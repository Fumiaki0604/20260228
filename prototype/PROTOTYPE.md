# セミナーを自分ごとに変換するAI プロトタイプ仕様書

## 1. 概要

### 1.1 背景・目的
セミナー・動画を視聴しても理解できないまま終わる、または学んだことを自分の仕事に落とし込めないという課題を解決する。
YouTube URLを貼るだけで、AIが動画の**音声（トランスクリプト）とスライド画像（キーフレーム）をマルチモーダルに解析**し、「あなたの文脈でこう使える」を自動生成する個人向け学習支援ツール。ユーザーは手動でスクショを撮ったりAIに投げる必要がなく、URLを貼るだけで完結する。

### 1.2 ターゲットユーザー
- 主要ユーザー: ビジネスパーソン（自分用）
- 利用シーン: セミナー動画・勉強動画を視聴した直後

### 1.3 成功基準
- YouTube URLを貼って、コンテキストを設定し、視聴後にアウトプット（使えるリスト＋アクションプラン）が表示される体験を確認できること

### 1.4 スコープ外
- AIプレビュー（動画の事前解析・関係箇所マップ生成）（将来検討）
- 自動一時停止・リアルタイム解説（将来検討）
- Zoom / Google Meet連携（将来対応）
- 忘却曲線リマインド
- 外部API連携（プロトタイプはすべてモック）

---

## 2. デザインコンセプト

| 項目 | 内容 |
|-----|------|
| ターゲットの悩み | 動画を見ても「で、自分はどうすればいい？」がわからない |
| 共感メッセージ | 「学んだのに、使えない」を終わりにする |
| メタファー | 動画→自分への翻訳機 |
| Before/After | 「なんとなく視聴完了」→「明日できるアクション3つ」 |
| カラー方針 | ホワイト＋ダークグレー（ミニマル・情報優先） |
| 具体的約束 | 視聴後3分でアウトプット生成 |

### デザイン決定事項
- **ミニマル**: 装飾より情報密度を優先
- **アウトプット中心**: 視聴後の結果画面がメインビュー
- **ステップ明示**: 現在のフェーズ（設定→視聴→アウトプット）を常に表示

---

## 3. データモデル

### 3.1 UserContext（ユーザーコンテキスト）
| フィールド | 型 | 説明 |
|-----------|-----|------|
| role | string | 職種（例: プロダクトマネージャー） |
| tools | string[] | 使用ツール（例: ["Claude Code", "Notion", "Figma"]） |
| currentChallenge | string | 今の課題（例: AIツールをチームに展開したい） |

### 3.2 VideoSession（視聴セッション）
| フィールド | 型 | 説明 |
|-----------|-----|------|
| id | string | 一意識別子 |
| url | string | YouTube URL |
| videoId | string | YouTube動画ID |
| title | string | 動画タイトル（モック） |
| createdAt | string | 作成日時 |

### 3.3 Output（アウトプット）
| フィールド | 型 | 説明 |
|-----------|-----|------|
| sessionId | string | セッションID |
| memos | Memo[] | 視聴中メモ |
| usableItems | UsableItem[] | 使えるリスト |
| actionPlan | ActionItem[] | アクションプラン |
| generatedAt | string | 生成日時 |

### 3.4 サンプルデータ

**UserContext**
```json
{
  "role": "プロダクトマネージャー",
  "tools": ["Claude Code", "Notion", "Slack"],
  "currentChallenge": "AIツールをチームに展開したい"
}
```

**Output（usableItems）**
```json
[
  {
    "id": "u1",
    "point": "ユーザーインタビューの質問設計にAIを活用する",
    "context": "Claude Codeでインタビューガイドのテンプレートを自動生成→Notionに保存するフローが作れる"
  },
  {
    "id": "u2",
    "point": "週次レポートの要約を自動化する",
    "context": "Slackのスレッドを貼り付けるだけでClaude Codeが議事録を生成。毎週30分削減できる"
  },
  {
    "id": "u3",
    "point": "チーム向けAI活用ガイドを作成する",
    "context": "この動画の内容をベースにNotionドキュメントを作成し、チームに共有する"
  }
]
```

**Output（actionPlan）**
```json
[
  {
    "id": "a1",
    "action": "Claude CodeでNotionテンプレート生成のプロンプトを作る",
    "timing": "今週中"
  },
  {
    "id": "a2",
    "action": "週次レポート自動化のパイロットを自分のチームで試す",
    "timing": "来週月曜"
  },
  {
    "id": "a3",
    "action": "AI活用ガイドの初稿をNotionに作成してチームにレビュー依頼",
    "timing": "今月末"
  }
]
```

---

## 4. 画面一覧

| 画面ID | 画面名 | 説明 |
|--------|--------|------|
| S01 | コンテキスト設定 | 職種・ツール・課題を設定するオンボーディング |
| S02 | URL入力 | YouTube URLを入力して動画を開始 |
| S03 | 視聴 | YouTube埋め込み＋右サイドにAI自動メモ |
| S04 | アウトプット生成中 | LLMモック処理（ローディング） |
| S05 | アウトプット | 使えるリスト＋アクションプラン表示 |
| S06 | 履歴 | 過去のセッション一覧 |

---

## 5. 画面仕様

### 5.1 コンテキスト設定（S01）

初回起動時のみ表示。設定済みの場合はS02へスキップ。

#### レイアウト
```
┌────────────────────────────────┐
│  あなたのコンテキストを設定     │
│                                │
│  職種                          │
│  [プロダクトマネージャー      ] │
│                                │
│  よく使うツール                │
│  [Claude Code] [Notion] [+追加] │
│                                │
│  今の課題                      │
│  [___________________________] │
│                                │
│        [設定して始める]         │
└────────────────────────────────┘
```

#### 要素
| ID | 要素 | 説明 | アクション |
|----|------|------|-----------|
| E01 | 職種入力 | テキスト入力 | - |
| E02 | ツールタグ | カンマ区切りで複数入力 | タグ追加・削除 |
| E03 | 課題入力 | textarea | - |
| E04 | 設定ボタン | type="button" | localStorageに保存→S02へ |

#### 状態
- **初期状態**: サンプルプレースホルダーを表示
- **エラー**: 職種が空の場合「職種を入力してください」

---

### 5.2 URL入力（S02）

#### レイアウト
```
┌────────────────────────────────┐
│  [コンテキスト設定 ✎]          │
│                                │
│  動画URLを入力                  │
│  [https://youtube.com/...    ] │
│                                │
│        [分析を開始する]         │
│                                │
│  ─── 最近の視聴 ───            │
│  ・AIツール活用セミナー 2/27   │
│  ・マーケ戦略講座 2/25         │
└────────────────────────────────┘
```

#### 要素
| ID | 要素 | 説明 | アクション |
|----|------|------|-----------|
| E01 | URLテキスト入力 | YouTube URL | - |
| E02 | コンテキスト編集リンク | 右上 | S01へ戻る |
| E03 | 開始ボタン | type="button" | URL検証→S03へ |
| E04 | 履歴リスト | 最近2件 | クリックでS05へ（過去アウトプット表示） |

#### 状態
- **空状態（履歴なし）**: 「まだ視聴履歴がありません」
- **エラー**: YouTube URL以外が入力された場合「YouTube のURLを入力してください」

---

### 5.3 視聴 + AI解析中（S03）

ユーザーが動画を視聴している間、AIがバックグラウンドで音声とスライド画像を解析する。

#### レイアウト
```
┌──────────────────┬─────────────────┐
│                  │  AI 解析状況    │
│  YouTube iframe  │  ───────────── │
│  （埋め込み）    │ ✓ 音声を解析中  │
│                  │ ✓ スライド検出  │
│                  │   3枚目を解析中 │
│                  │                 │
│                  │ ※動画を見なが   │
│                  │  ら待てます     │
├──────────────────┴─────────────────┤
│      [解析完了 → アウトプット生成]   │
└──────────────────────────────────┘
```

#### 要素
| ID | 要素 | 説明 | アクション |
|----|------|------|-----------|
| E01 | YouTube iframe | 動画埋め込み | - |
| E02 | AI解析状況パネル | 解析ステップをモック表示（音声→スライド順次） | - |
| E03 | 完了ボタン | type="button" | 解析完了後に表示、押下でS04へ、即 display:none |

#### モック仕様
- 画面表示後1秒: 「音声を解析中...」表示
- 2秒後: 「✓ 音声解析完了」
- 3秒後: 「スライド画像を検出中...」
- 4秒後: 「✓ スライド3枚を検出」
- 5秒後: 「あなたの文脈に翻訳中...」→ 完了ボタン表示

---

### 5.4 アウトプット生成中（S04）

#### レイアウト
```
┌────────────────────────────────┐
│                                │
│     AIがあなたの文脈で         │
│     翻訳しています...          │
│                                │
│         [████████░░] 80%       │
│                                │
│  「職種・ツール・課題」を       │
│  もとに分析中                  │
│                                │
└────────────────────────────────┘
```

#### 仕様
- setTimeout 1500ms でS05へ自動遷移
- プログレスバーはCSSアニメーションで疑似表示
- この画面でOutput.memosも同時生成（モック）: 音声+スライド解析結果から自動生成されたメモとして扱う

---

### 5.5 アウトプット（S05）

#### レイアウト
```
┌────────────────────────────────┐
│  ← 新しい動画         [履歴]   │
│  AIツール活用セミナー          │
│                                │
│  📋 あなたに使えること         │
│  ─────────────────────         │
│  ✓ ユーザーインタビューに      │
│    AIを活用する                │
│    → Claude CodeでNotionに...  │
│                                │
│  ✓ 週次レポートを自動化する    │
│    → Slackスレッドを貼るだけ... │
│                                │
│  📌 アクションプラン           │
│  ─────────────────────         │
│  □ プロンプトを作る  [今週中]  │
│  □ パイロット実施    [来週月]  │
│  □ ガイド初稿作成    [今月末]  │
│                                │
│  📝 視聴メモ                   │
│  ─────────────────────         │
│  ・ポイント1                   │
│  ・ポイント2                   │
│                                │
│  [サンプルデータに戻す]         │
└────────────────────────────────┘
```

#### 要素
| ID | 要素 | 説明 | アクション |
|----|------|------|-----------|
| E01 | 戻るボタン | type="button" | S02へ |
| E02 | 履歴ボタン | type="button" | S06へ |
| E03 | 使えるリスト | usableItems表示 | - |
| E04 | アクションプラン | actionPlan表示（チェックボックス） | チェック状態をlocalStorageに保存 |
| E05 | 視聴メモ | memos表示 | - |
| E06 | リセットボタン | type="button" | サンプルデータに戻す |

---

### 5.6 履歴（S06）

#### レイアウト
```
┌────────────────────────────────┐
│  ← 戻る    視聴履歴            │
│                                │
│  AIツール活用セミナー          │
│  2026-02-28  使えること3件     │
│                                │
│  マーケ戦略講座                │
│  2026-02-25  使えること4件     │
│                                │
│  [空状態: まだ履歴がありません] │
└────────────────────────────────┘
```

---

## 6. 状態遷移

```
S01（初回のみ）→ S02 → S03 → S04（ローディング） → S05
                  ↑                                    │
                  └─────── S06（履歴） ←──────────────┘
```

| 遷移 | 条件 | 異常時 |
|------|------|--------|
| S01→S02 | 職種が入力済み | 「職種を入力してください」 |
| S02→S03 | YouTube URLが有効 | 「YouTube のURLを入力してください」 |
| S03→S04 | 解析モック完了（5秒経過）後にボタンが出現し、押下 | - |
| S04→S05 | 1500ms経過 | - |
| S05→S02 | 戻るボタン | - |
| S05→S06 | 履歴ボタン | - |
| S06→S02 | 戻るボタン | - |

**ボタン表示条件**
- 「解析完了 → アウトプット生成」ボタン: S03の解析モック完了（5秒後）に `display:block`、押下後は即 `display:none`

---

## 7. 技術仕様

- **実装**: 単一HTMLファイル（`index.html`）
- **データ永続化**: localStorage（キー: `seminar_ai_v1`）
- **外部連携**: なし（YouTube iframeのみ、API通信なし）
- **LLMモック**: setTimeout(1500ms) + サンプルデータ表示
- **YouTube埋め込み**: URLからvideoIdを抽出してiframe src に設定

### YouTubeビデオID抽出
```javascript
// https://www.youtube.com/watch?v=XXXXX → XXXXX
// https://youtu.be/XXXXX → XXXXX
function extractVideoId(url) {
  const match = url.match(/(?:v=|youtu\.be\/)([^&\s]+)/);
  return match ? match[1] : null;
}
```

### localStorageキー設計
```
seminar_ai_v1_context   → UserContext
seminar_ai_v1_sessions  → VideoSession[]
seminar_ai_v1_outputs   → Output[]
```

### 実装ルール
- **全`<button>`に`type="button"`を付ける**（デフォルトのsubmitによるリロード防止）
- 連打対策: ボタン押下後に即 `display:none`、処理完了後に次ボタンを表示
- 画面切替は `display:none` / `display:block` のみ使用（opacity禁止）

### 将来対応（スコープ外）
- Zoom / Google Meet録画連携
- リアルタイム解説・自動一時停止
- ナレッジグラフ・クロスリファレンス

### マルチモーダル解析（実装時の注意）
プロトタイプではモックだが、本実装では以下が必要：
- 音声解析: YouTube動画のトランスクリプト取得（YouTube Data API or Whisper）
- 画像解析: 動画のキーフレーム抽出 → マルチモーダルLLM（Claude Vision等）でスライド内容を読み取り
- コンテキスト統合: 音声テキスト + スライド内容 + UserContext → パーソナライズされたアウトプット生成
